<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
	<style type="text/css">
	
	.image {background-color:#FFFFCC}
	.spider {background-color:#CCFFFF}
	.invalid {background-color:#EEEEEE}
	.nocase {background-color:#66CC99}
	.bad {color:red;}
	.good {color:green;}
</style>
</head>
<body bgcolor="white" margin="0">
	<h1>覆盖率分析结果如下：</h1>

</br>

<p>

	<table align="center" style="FONT-SIZE: 14px; face: Verdana" cellspacing="1" cellpadding="4" border="1">
		<thead>
			<tr  align="center">
				<th>各类case</th>
				<th>case数量</th>
				<th>case占比</th>
			</tr>
		</thead>
		<tbody>
			<%
					ALL_TYPE=[]
					for item in sorted(TDATA["stat"].iteritems(), key=lambda d:d[1]["percent"], reverse = True ):
						ALL_TYPE.append(item[0])
					for type in PDATA["stat"].keys():
						if  type not in  ALL_TYPE:
							ALL_TYPE.append(type);
				%>
			%for  key in ALL_TYPE:
			<%
					if  key in INVALID_TYPE : continue
					tcount=TDATA["stat"][key]["count"] if key in  TDATA["stat"] else 0
					tpercent=TDATA["stat"][key]["percent"] if key in  TDATA["stat"] else 0.00   
					pcount=PDATA["stat"][key]["count"] if key in  PDATA["stat"] else 0   
					ppercent=PDATA["stat"][key]["percent"] if key in  PDATA["stat"] else 0
					change=tpercent-ppercent
					if key in INDEX_TYPE:
						_class="nocase"
					elif key in  SPIDER_TYPE:
						_class="image"
					else:
						_class="spider"
					if change >
			0 : 
						_class +=" bad"
					elif change
			< 0 :
						_class +=" good"
				%>

				<tr  align="center" class="${_class}" style='color:${"red" if change >
					0 else "green" }' >
					<td>${key}</td>
					<td>${tcount}</td>
					<td>${"%.2f"%tpercent}%</td>
					<td>${pcount}</td>
					<td>${"%.2f"%ppercent}%</td>

					<td>${"%.2f"%change}%</td>
				</tr>
				%endfor


							
					% for  key in INVALID_TYPE:
				<%
						tcount=TDATA["stat"][key]["count"] if key in  TDATA["stat"] else 0
						tpercent=TDATA["stat"][key]["percent"] if key in  TDATA["stat"] else 0.00   
						pcount=PDATA["stat"][key]["count"] if key in  PDATA["stat"] else 0   
						ppercent=PDATA["stat"][key]["percent"] if key in  PDATA["stat"] else 0.00

					%>
				<tr  align="center" class="invalid">
					<td>${key}</td>
					<td>${tcount}</td>
					<td>NULL</td>
					<td>${pcount}</td>
					<td>NULL</td>

					<td>NULL</td>
				</tr>
				%endfor
			</tbody>

			<tr>
				<td colspan="6" bgcolor="white">注:红色表示case占比较上周增加，绿色表示case占比较上周减少；</tr>
			</table>
			<p>

				<hr>
				<p>有问题请联系 zhangzhenhu@baidu.com</body>
				</html>